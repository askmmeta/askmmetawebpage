{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { authService } from \"./authService\";\nconst initialState = {\n  User: null,\n  isError: false,\n  isMessage: '',\n  isLoading: false,\n  isSuccess: true\n};\nexport const register = createAsyncThunk(\"users/register\", async (userData, thunkAPI) => {\n  try {\n    return await authService.register(userData);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    thunkAPI.rejectWithValue(message);\n  }\n});\nexport const logout = createAsyncThunk('users/logout', async () => {\n  return await authService.logout();\n});\nexport const login = createAsyncThunk(\"users/login\", async (_ref, thunkAPI) => {\n  let {\n    pwd,\n    email\n  } = _ref;\n\n  try {\n    return await authService.login({\n      pwd,\n      email\n    });\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString;\n    thunkAPI.rejectWithValue(message);\n  }\n});\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    reset: state => {\n      state.isError = false;\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.isMessage = '';\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(register.pending, state => {\n      state.isLoading = true;\n    }).addCase(register.rejected, (state, action) => {\n      state.isError = true;\n      state.isMessage = action.payload;\n      state.User = null;\n      state.isSuccess = false;\n      state.isLoading = false;\n    }).addCase(register.fulfilled, (state, action) => {\n      state.isError = false;\n      state.User = action.payload;\n      state.isSuccess = true;\n      state.isLoading = false;\n    }).addCase(logout, state => {\n      state.User = null;\n    }).addCase(login.pending, state => {\n      state.isLoading = true;\n    }).addCase(login.rejected, (state, action) => {\n      state.isError = true;\n      state.isMessage = action.payload;\n      state.User = null;\n      state.isSuccess = false;\n      state.isLoading = false;\n    }).addCase(login.fulfilled, (state, action) => {\n      state.isError = false;\n      state.User = action.payload;\n      state.isSuccess = true;\n      state.isLoading = false;\n    });\n  }\n});\nexport const {\n  reset\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","authService","initialState","User","isError","isMessage","isLoading","isSuccess","register","userData","thunkAPI","error","message","response","data","toString","rejectWithValue","logout","login","pwd","email","authSlice","name","reducers","reset","state","extraReducers","builder","addCase","pending","rejected","action","payload","fulfilled","actions","reducer"],"sources":["C:/Users/Omkar/OneDrive/Desktop/a/askmmeta/src/features/Auth/authSlice.js"],"sourcesContent":["import { createSlice,createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { authService } from \"./authService\";\n\n\nconst initialState = {\n    User:null,\n    isError: false,\n    isMessage: '',\n    isLoading: false,\n    isSuccess: true,\n\n}\n\n\nexport const register = createAsyncThunk(\n  \"users/register\",\n  async (userData, thunkAPI) => {\n    try {\n      return await authService.register(userData);\n    } catch (error) {\n      const message =\n        (error.response &&\n          error.response.data &&\n          error.response.data.message) ||\n        error.message ||\n        error.toString();\n      thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\n\nexport const logout = createAsyncThunk('users/logout', async ()=>\n{\n    return await authService.logout();\n}\n)\n\n\n\nexport const login = createAsyncThunk(\"users/login\", async ({pwd,email}, thunkAPI) => {\n  try {\n    return await authService.login({ pwd, email });\n  } catch (error) {\n    const message =\n      (error.response && error.response.data && error.response.data.message) ||\n      error.message ||\n      error.toString;\n    thunkAPI.rejectWithValue(message);\n  }\n});\n\nexport const authSlice = createSlice({\n    name:'auth',\ninitialState,\nreducers:{\n    reset: (state)=>{\n        state.isError = false;\n        state.isLoading = false;\n        state.isSuccess = true;\n        state.isMessage = '';\n    }\n},\nextraReducers:(builder)=>{\n    builder.addCase(register.pending, (state)=>{\n        state.isLoading = true;\n    })\n    .addCase(register.rejected,(state, action)=>{\n        state.isError= true;\n        state.isMessage= action.payload;\n        state.User = null;\n        state.isSuccess = false;\n        state.isLoading= false;\n    }).addCase(register.fulfilled,(state, action)=>{\n        state.isError= false;\n        state.User = action.payload;\n        state.isSuccess = true;\n        state.isLoading= false;\n    })\n    .addCase(logout,(state)=>{\n        state.User = null\n    })\n   .addCase(login.pending, (state)=>{\n        state.isLoading = true;\n    })\n    .addCase(login.rejected,(state, action)=>{\n        state.isError= true;\n        state.isMessage= action.payload;\n        state.User = null;\n        state.isSuccess = false;\n        state.isLoading= false;\n    }).addCase(login.fulfilled,(state, action)=>{\n        state.isError= false;\n        state.User = action.payload;\n        state.isSuccess = true;\n        state.isLoading= false;\n    })\n\n    \n\n}},\n)\nexport  const {reset} = authSlice.actions;\n\nexport default authSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}