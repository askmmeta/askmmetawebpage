{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Omkar/OneDrive/Desktop/a/askmmeta/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Omkar/OneDrive/Desktop/a/askmmeta/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import{authService}from\"./authService\";var initialState={User:null,isError:false,isMessage:'',isLoading:false,isSuccess:true};export var register=createAsyncThunk(\"users/register\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userData,thunkAPI){var message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return authService.register(userData);case 3:return _context.abrupt(\"return\",_context.sent);case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);message=_context.t0.response&&_context.t0.response.data&&_context.t0.response.data.message||_context.t0.message||_context.t0.toString();thunkAPI.rejectWithValue(message);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var logout=createAsyncThunk('users/logout',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return authService.logout();case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);})));export var login=createAsyncThunk(\"users/login\",/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_ref3,thunkAPI){var pwd,email,message;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:pwd=_ref3.pwd,email=_ref3.email;_context3.prev=1;_context3.next=4;return authService.login({pwd:pwd,email:email});case 4:return _context3.abrupt(\"return\",_context3.sent);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](1);message=_context3.t0.response&&_context3.t0.response.data&&_context3.t0.response.data.message||_context3.t0.message||_context3.t0.toString;thunkAPI.rejectWithValue(message);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[1,7]]);}));return function(_x3,_x4){return _ref4.apply(this,arguments);};}());export var authSlice=createSlice({name:'auth',initialState:initialState,reducers:{reset:function reset(state){state.isError=false;state.isLoading=false;state.isSuccess=true;state.isMessage='';}},extraReducers:function extraReducers(builder){builder.addCase(register.pending,function(state){state.isLoading=true;}).addCase(register.rejected,function(state,action){state.isError=true;state.isMessage=action.payload;state.User=null;state.isSuccess=false;state.isLoading=false;}).addCase(register.fulfilled,function(state,action){state.isError=false;state.User=action.payload;state.isSuccess=true;state.isLoading=false;}).addCase(logout,function(state){state.User=null;}).addCase(login.pending,function(state){state.isLoading=true;}).addCase(login.rejected,function(state,action){state.isError=true;state.isMessage=action.payload;state.User=null;state.isSuccess=false;state.isLoading=false;}).addCase(login.fulfilled,function(state,action){state.isError=false;state.User=action.payload;state.isSuccess=true;state.isLoading=false;});}});var reset=authSlice.actions.reset;export{reset};export default authSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","authService","initialState","User","isError","isMessage","isLoading","isSuccess","register","userData","thunkAPI","message","response","data","toString","rejectWithValue","logout","login","pwd","email","authSlice","name","reducers","reset","state","extraReducers","builder","addCase","pending","rejected","action","payload","fulfilled","actions","reducer"],"sources":["C:/Users/Omkar/OneDrive/Desktop/a/askmmeta/src/features/Auth/authSlice.js"],"sourcesContent":["import { createSlice,createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { authService } from \"./authService\";\n\n\nconst initialState = {\n    User:null,\n    isError: false,\n    isMessage: '',\n    isLoading: false,\n    isSuccess: true,\n\n}\n\n\nexport const register = createAsyncThunk(\n  \"users/register\",\n  async (userData, thunkAPI) => {\n    try {\n      return await authService.register(userData);\n    } catch (error) {\n      const message =\n        (error.response &&\n          error.response.data &&\n          error.response.data.message) ||\n        error.message ||\n        error.toString();\n      thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\n\nexport const logout = createAsyncThunk('users/logout', async ()=>\n{\n    return await authService.logout();\n}\n)\n\n\n\nexport const login = createAsyncThunk(\"users/login\", async ({pwd,email}, thunkAPI) => {\n  try {\n    return await authService.login({ pwd, email });\n  } catch (error) {\n    const message =\n      (error.response && error.response.data && error.response.data.message) ||\n      error.message ||\n      error.toString;\n    thunkAPI.rejectWithValue(message);\n  }\n});\n\nexport const authSlice = createSlice({\n    name:'auth',\ninitialState,\nreducers:{\n    reset: (state)=>{\n        state.isError = false;\n        state.isLoading = false;\n        state.isSuccess = true;\n        state.isMessage = '';\n    }\n},\nextraReducers:(builder)=>{\n    builder.addCase(register.pending, (state)=>{\n        state.isLoading = true;\n    })\n    .addCase(register.rejected,(state, action)=>{\n        state.isError= true;\n        state.isMessage= action.payload;\n        state.User = null;\n        state.isSuccess = false;\n        state.isLoading= false;\n    }).addCase(register.fulfilled,(state, action)=>{\n        state.isError= false;\n        state.User = action.payload;\n        state.isSuccess = true;\n        state.isLoading= false;\n    })\n    .addCase(logout,(state)=>{\n        state.User = null\n    })\n   .addCase(login.pending, (state)=>{\n        state.isLoading = true;\n    })\n    .addCase(login.rejected,(state, action)=>{\n        state.isError= true;\n        state.isMessage= action.payload;\n        state.User = null;\n        state.isSuccess = false;\n        state.isLoading= false;\n    }).addCase(login.fulfilled,(state, action)=>{\n        state.isError= false;\n        state.User = action.payload;\n        state.isSuccess = true;\n        state.isLoading= false;\n    })\n\n    \n\n}},\n)\nexport  const {reset} = authSlice.actions;\n\nexport default authSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}